Date: 2014-03-22
Title: 暴风影音校招笔试题2014年技术类
Category: 程序员找工作
Tags: 暴风笔试题
Slug: baofeng_2014_c
Img:pics/baofeng.jpg
summary:溢出与越界的区别?指出如下代码中的错误?指出如下代码的输出结果?利用TCP发送数据的时候，调用send发送`5`次，每次发送`100`字节，问接收方调用`recv`最少几次，最多几次?自定义实现字符串转为整数的算法，例如把123456转成整数123456?溢出主要指的是超出了自身的范围，常见的有整数溢出和缓冲区溢出...


----------
1、溢出与越界的区别?

溢出主要指的是超出了自身的范围，常见的有整数溢出和缓冲区溢出；而越界则指的是操作数组的下标超出了数组应有的长度范围。


2、指出如下代码中的错误?

	int main()
	{
	   char a;
	   char* p = &a;
	   strcpy(p, "Hello");
	
	   printf("p is %s", p);
	
	   return 0;
	}

代码中的错误是显而易见的，a是一个字符变量，所在的地址空间只能存放一个字符，现在是将hello复制到字符a所在的存储空间上，hello是6个字符，因此必然发生越界，程序运行，必然发生错误

3、指出如下代码的输出结果

	void fun(char str[])
	{
	    void* p = malloc(100);
	    printf("%d\n%d", sizeof(str), sizeof(p));
	}
	
	int main()
	{
	   char str[100] = "Hello";
	   fun(str);
	
	   return 0;
	}

数组作为函数参数时会退化为指针，所以sizeof(str)为4；而p本身就是一个指针，所以sizeof(p)为4。

4、利用TCP发送数据的时候，调用send发送5次，每次发送100字节，问接收方调用recv最少几次，最多几次？

TCP的基本工作流程：send时会先发送到发送缓冲区，接收时会从接收缓冲区取数据。由于缓冲区的大小不定，按题意，最少recv接收1次，最多500次。


5、自定义实现字符串转为整数的算法，例如把“123456”转成整数123456.(输入中可能存在符号，和数字)

6、给出一棵二叉树的前序和中序遍历，输出后续遍历的结果，假设二叉树中存储的均是ASCII码。如前序：`ABDHECFG`，中序：HDBEAFCG，则输出后序为：`HDECFGCA`。

思路：先利用前序和中序构建出二叉树，然后后序遍历输出结果

7、给出了一个n*n的矩形，编程求从左上角到右下角的路径数（`n > =2`），限制只能向右或向下移动，不能回退。例如当n=2时，有6条路径。

一是利用数学知识，从左上角到右下角总共要走2n步，其中横向要走n步，所以总共就是C2n~n。

二是利用递归实现

	/**
	*返回总路径数
	*参数m:表示矩形的横向格子数
	*参数n:表示矩形的纵向格子数
	*/
	int getTotalPath(int m, int n)
	{
	    //如果横向格子数为1，则类似“日”字，此时路径数为纵向格子数加1
	    if(m == 1)
	        return n + 1;
	    //如果纵向格子数为1，此时路径数为横向格子数加1
	    if(n == 1)
	        return m + 1;
	
	    //由于从当前点出发，只能向右或向下移动：
	    //向右移动，则接下来就是getTotalPath(m-1, n)的情形
	    //向下移动，则接下来就是getTotalPath(m, n-1)的情形
	    return getTotalPath(m-1, n) + getTotalPath(m, n-1);
	}
